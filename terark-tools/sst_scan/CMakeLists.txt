CMAKE_MINIMUM_REQUIRED(VERSION 3.8)
PROJECT(key_path_analysis)

SET(CMAKE_CXX_FLAGS "-std=c++14 -g3 -DROCKSDB_PLATFORM_POSIX -DROCKSDB_LIB_IO_POSIX  -DOS_LINUX -fno-builtin-memcmp -DROCKSDB_FALLOCATE_PRESENT -DGFLAGS=1 -DZLIB -DNUMA -DTBB -DROCKSDB_MALLOC_USABLE_SIZE -DROCKSDB_PTHREAD_ADAPTIVE_MUTEX -DROCKSDB_BACKTRACE -DROCKSDB_RANGESYNC_PRESENT -DROCKSDB_SCHED_GETCPU_PRESENT -march=native  -DHAVE_SSE42 -DHAVE_PCLMUL -DROCKSDB_SUPPORT_THREAD_LOCAL")
SET(CMAKE_CXX_STANDARD 14)

# Headers
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../../)
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../../include)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/../../zlib-1.2.11)
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../../terark-core/boost-include)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/../../terark-core/3rdparty/zstd)
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../../terark-core/src)
INCLUDE_DIRECTORIES(/usr/local/include)


LINK_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../../output/lib_static)
LINK_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../../)

ADD_EXECUTABLE(sst_scan sst_scan.cc)
TARGET_LINK_LIBRARIES(sst_scan rocksdb gomp snappy pthread aio lz4 z rt)
